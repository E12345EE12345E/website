import{f as N,a as O}from"../chunks/C2G1kXZQ.js";import{p as j,a as D,u as F,f as J,s as K,b as L}from"../chunks/BST4eR-o.js";import{d as Q}from"../chunks/DMKVf6l4.js";import{b as q}from"../chunks/DhzNEzn1.js";var U=N('<button class="imagecontainer"><img src="favicon.png"/></button> <canvas class="bg" id="bg"></canvas>',1);function et(X,Y){j(Y,!0);let t,b,r=D([]),d=0,p=0,I=0,k=0,m=0,f=0,z=.005,_=0,c=0,w=.5,H=!1;const M=50;let y=0;function S(n,o){return[255,n,o,4,0,Math.PI*2,Math.random()*Math.PI*2,100+100*Math.random(),n,o,(.001+.001*Math.random())*(Math.random()>.5?1:-1)]}F(()=>{t.width=t.offsetWidth,t.height=t.offsetHeight;const n=Math.min(t.width,t.height),o=t.getContext("2d");o.clearRect(0,0,t.width,t.height);const u=128;b.style.left=t.width/2-u/2+"px",b.style.top=t.height/2-u/2+M/2+"px";for(let e=0;e<r.length;e++){let i=r[e];for(let l=e+1;l<r.length;l++){let a=r[l],s=(i[1]-a[1])*(i[1]-a[1])+(i[2]-a[2])*(i[2]-a[2]),P=.075*n*n;if(s<P){let x=Math.min((P-s)*.01,255);o.strokeStyle="rgba("+x+", "+x+", "+x+", "+x+")",o.beginPath(),o.moveTo(i[1],i[2]),o.lineTo(a[1],a[2]),o.stroke()}}}if(r.forEach(e=>{o.fillStyle="#"+e[0].toString(16)+e[0].toString(16)+e[0].toString(16)+"ff",o.beginPath(),o.arc(e[1],e[2],e[3],e[4],e[5]),o.fill()}),r.length==0){const e=t.width/2,i=(t.height-M)/2,l=Math.min(e,i),a=16;for(let s=0;s<a;s++)r.push(S(e+.75*l*Math.cos(2*Math.PI*s/a),M+i+.75*l*Math.sin(2*Math.PI*s/a)));for(let s=0;s<a;s++)r.push(S(e+.9*l*Math.cos(2*Math.PI*(s+.5)/a),M+i+.9*l*Math.sin(2*Math.PI*(s+.5)/a)));setInterval(A,15)}});function A(){y++;let n=Math.sqrt((d-m)*(d-m)+(p-f)*(p-f)),o=z*Math.min(1+.04*_,4)*Math.max(Math.min(n*3,1),.1);if(n>o){_++;let h=Math.atan2(p-f,d-m);m+=Math.cos(h)*o,f+=Math.sin(h)*o}else m=d,f=p,_=0;const u=t.width/2,e=(t.height-M)/2,i=.75*Math.min(u,e),l=u-I,a=M+e-k;c*=.99,c-=.001,H?c+=.015:l*l+a*a<i*i&&(c+=.006*(1-(l*l/(i*i)+a*a/(i*i)))),c=Math.min(Math.max(c,0),w),console.log(c);const s=m-.5,P=f-.5,G=Math.max(t.width,t.height)/1920*(1-Math.min(c,w));r.forEach(h=>{let g=G*h[7],E=s+Math.sin(y*h[10])*g*.02,W=P+Math.cos(y*h[10])*g*.02;h[1]=h[8]+E*Math.cos(h[6])*g+W*Math.sin(h[6])*g,h[2]=h[9]+E*Math.cos(h[6]+Math.PI/2)*g+W*Math.sin(h[6]+Math.PI/2)*g})}function R(n){d=n.clientX/Math.max(t.width,1),p=n.clientY/Math.max(t.height,1),I=n.clientX,k=n.clientY}function B(n){console.log(n),w=1,H=!0}var T=U(),v=J(T);v.__click=B,v.__pointermove=R,q(v,n=>b=n,()=>b);var C=K(v,2);C.__pointermove=R,q(C,n=>t=n,()=>t),O(X,T),L()}Q(["click","pointermove"]);export{et as component};
